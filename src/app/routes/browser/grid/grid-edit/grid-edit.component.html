<div class="page">
  <div class="controls">
    <div class="buttons">
      <button (click)="tryClose()">...</button>
      <button (click)="tryPreview()">Preview</button>
      <button (click)="add()">Add</button>
      <button (click)="save()">Save</button>
    </div>
    <div class="path">
      <input type="text" readonly="true" [value]="dataService.file.path">
    </div>
  </div>
  <div class="flex">
    <div class="grid">
      <div class="row" *ngFor="let row of grid.rows">
        <div class="header">
          <span>{{ row.type }}</span>
          <div class="arrows">
            <mat-icon class="delete active-button" (click)="delete(row)">delete_outline</mat-icon>
            <mat-icon class="up active-button" (click)="up(row)">upload</mat-icon>
            <mat-icon class="down active-button" (click)="down(row)">download</mat-icon>
          </div>
        </div>

        <textarea
          [(ngModel)]="row.value"
          spellcheck="false"
          autosize
          *ngIf="row.type === gridType.TEXTBLOCK"
        ></textarea>

        <ng-container *ngIf="row.type === gridType.INPUT">
          <input type="text"[(ngModel)]="row.label" placeholder="Label" spellcheck="false">
          <input type="text"[(ngModel)]="row.value" placeholder="Value" spellcheck="false">
        </ng-container>

        <ng-container *ngIf="row.type === gridType.PASSWORD">
          <input type="text"[(ngModel)]="row.label" placeholder="Label" spellcheck="false">
          <div class="pwd">
            <input
              [type]="row.visibility"
              [(ngModel)]="row.value"
              placeholder="Password"
              spellcheck="false"
            >
            <mat-icon
              class="active-button"
              [ngClass]="row.visibility"
              (click)="togglePass(row)"
            >visibility</mat-icon>
          </div>
          <div class="key">
            <mat-icon
              class="active-button"
              (click)="generateKey(row, length.value, dict.value)"
            >vpn_key</mat-icon>
            <input type="number" value=16 #length>
            <select #dict>
              <option value="number">1234</option>
              <option value="text">password</option>
              <option value="text_number">password99</option>
              <option value="simple" selected>pAss99</option>
              <option value="mixed_text_number">PassWord99</option>
              <option value="string64">Pass_Word-99</option>
              <option value="hard">Must#4</option>
              <option value="special">P@ss_Word-99</option>
              <option value="unicode">P@ss_WoÂ®d-99</option>
              <option value="emoji">P@ssðŸ˜ŽWoÂ®d-99</option>
            </select>
          </div>
        </ng-container>

        <ng-container *ngIf="row.type === gridType.TEXTAREA">
          <input type="text"[(ngModel)]="row.label" placeholder="Label" spellcheck="false">
          <textarea
            [(ngModel)]="row.value"
            spellcheck="false"
            autosize
          ></textarea>
        </ng-container>

        <ng-container *ngIf="row.type === gridType.HIDDENBLOCK">
          <input type="text"[(ngModel)]="row.label" placeholder="Label" spellcheck="false">
          <textarea
            [(ngModel)]="row.value"
            spellcheck="false"
            autosize
          ></textarea>
        </ng-container>
      </div>
    </div>
  </div>
</div>
